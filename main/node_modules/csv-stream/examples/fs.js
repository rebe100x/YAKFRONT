
/**
 * Modules dependencies
 */

var csv = require('./../'),
	fs = require('fs');

// Parse csv product feed from Zuneta
var options = {
	delimiter : '\t'
}
var start = new Date();
var totalBytes = 0;
fs.createReadStream('/home/lbdremy/Downloads/productBrands.csv')
	.on('data',function(data){
		totalBytes += data.length;
	})
	.pipe(csv.createStream(options))
	.on('data',function(data){
		//console.log(data);
	})
	.on('column',function(key,value){
		//console.log('#' + key + '=' + value);
	})
	.on('end',function(){
		console.log('end!');
	})
	.on('close',function(){
		console.log('close!');
		var end = new Date();
		var timeSpent = end - start;
		console.log(timeSpent + ' ms');
		console.log(totalBytes/timeSpent + ' bytes/ms');
	})